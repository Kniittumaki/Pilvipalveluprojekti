<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <title>Projekti</title>
</head>
<body style="background-color:lightgray; font-family: 'Courier New', Courier, monospace;">
  <div class="jumbotron text-center">
    <h1>Pilvipalveluprojekti</h1>
    <p>Karoliina Niittumäki & Peter Pahlman</p>
  </div>

  <div class="container">
    <div class="row">
            <h3>Mikropalveluarkkitehtuuri</h3>
            <p>Mikropalveluarkkitehtuurissa sovellus koostuu useista pienistä palveluista, jotka liittyvät löyhästi toisiinsa ovat itsenäisesti asennettavissa. 
              Jokainen mikropalvelin vastaa tietyistä toiminnallisuuksista ja palvelut kommunikoivat keskenään. 
              Kommunikointiin palvelut käyttävät kevyitä protokollia kuten HTTP/REST. 
              Jokaisella mikropalvelulla on oma lähdekoodi, tietokanta ja työkalut, eli niitä voi kehittää ja asentaa toisistaan riippumatta. 
              Mikropalvelut ovat tarkoitettu käytettäväksi jatkuvan integraation ja toimituksen kehitysmallien yhteydessä.
              <br/>
              <br/>
              FaaS, eli Function as a Service on palvelimettoman tietojenkäsittelyn pilvipalvelumuoto. 
              Se liitetään tyypillisesti mikropalveluiden rakentamiseen ja suorittamiseen. 
              Palvelimeton tietojenkäsittely on yläluokka tietyn tyyppiselle palvelulle (tallennus, viestintä, laskenta jne.), jonka alaluokka FaaS on.
              <br/>
              <br/>
              Mikropalveluarkkitehtuurilla on useita hyötyjä. 
              Palvelut ovat pieniä ja helposti ymmärrettäviä, jolloin kehits ja asennus nopeutuvat. 
              Tämä mahdollistaa myös paremman skaalattavuuden. 
              Kun palvelu koostuu useista mikropalveluista, se on vikasietoisempi. 
              Ongelma yhdellä osa-alueella ei vie koko palvelua alas. 
              Yksittäiset pienet osa-alueet ovat myös helpommin ylläpidettävissä.
              <br/>
              <br/>
              Kuten kaikissa asioissa, myös mikropalveluarkkitehtuurissa on haasteita. 
              Suuressa, monesta mikropalvelusta koostuvassa palvelussa kokonaisuus voi muuttua monimutkaiseksi ja haastavaksi ymmärtää. 
              Mikropalvelut pyörivät jokainen omassa ympäristössään, joten resurssien kulutus voi olla suurta.  
              Myös tiedonsiirrossa voi olla viiveitä, sillä mikropalvelut kommunikoivat toistensa kanssa verkon yli.
            </p>
            <h3>Konttiteknologia</h3>
            <p>Konttien avulla ohjelmille tarjotaan standardoitu ympäristö, jossa niitä voidaan ajaa. 
              Ohjelman ollessa asetettuna konttiin, sitä voidaan siirrellä kehittäjän tietokoneelta testiympäristöön ja sieltä tuotantoon. 
              Kontteja voidaan helposti myös siirtää julkiseen pilveen. 
              Kontit ovat standardoitu tapa pakata ohjelmisto niin, että sitä voidaan siirtää paikasta toiseen ilman, että ohjelmistoa tarvitsee muokata.
              <br/>
              <br/>
              Konttien ansiosta sovellus tarvitsee vähemmän resursseja, ja niiden suorituskyky on virtuaalipalvelinta parempi. 
              Konttien yksi selkeä etu on myös ympäristön standardointi. 
              Tästä syystä konttia on helpompi liikuttaa konesalista toiseen kuin virtuaalikonetta. 
              Koska yksi kontti sisältää usein vain ohjelman tietyn ominaisuuden, mahdollistuu ohjelman päivittäminen pala kerrallaan. 
              Tämä nopeuttaa ja helpottaa ohjelmistokehitystä, sillä mahdollisissa ongelmatilanteissa on helppo palata vanhaan ympäristöön. 
              Dockerin vahvuuksiin kuuluu se, että se ei ole riippuvainen käyttöjärjestelmästä, jonka päällä sitä ajetaan. 
              Käytännössä tämä tarkoittaa, että se toimii Windowsissa, Applessa ja muissa käyttöjärjestelmissä samalla tavalla.
            </p>
            <h3>Docker</h3>
            <p>Dockerin avulla voidaan sekä laittaa sovelluksia kontteihin että ajaa kontteja. 
              Se tarjoaa tehokkaan ajoympäristön kontteihin sijoitetuille sovelluksille. 
              Docker-kontit eroavat virtuaalipalvelimista niin, että kontit eivät sisällä omaa käyttöjärjestelmää, 
              vaan pelkästään sellaiset kirjastot, jotka auttavat sitä itseään toimimaan. 
            </p>
              <br/>
              <blockquote>
              <p>As containers hold everything needed to run the application, you don’t need to rely on what is currently installed on the host. 
              You can share containers while you work and know that everyone uses the same container that operates in the same way.
              </p>
              <footer>Adam Murray, Mend.io</footer>
              </blockquote>
              <br/>
              <p>
              Kontit ovat myös resurssitehokkaita, sillä ne eivät varaa resursseja etukäteen, vaan pyytävät niitä vain ajoa varten. 
              Käytännössä siis kontissa on sovelluksen tarvitsema minimiajoympäristö yhdessä paketissa. 
              <br/>
              <br/>
                Dockerin käytöllä on useita hyötyjä. 
              Se nopeuttaa IT-ympäristön modernisointia ja vauhdittaa digitalisaatiota. 
              Se on todella kustannustehokas, joten sen avulla voi säästää IT-kuluissa. 
              Docker myös mahdollistaa nopeamman sovelluskehityksen ja uusien versioiden julkaisemisen. 
              Standardisoinnin ansiosta sovelluksen kehitysympäristö on täsmälleen saman näköinen kuin testi- tai tuotantoympäristö, mikä helpottaa sovelluskehitystä. 
              Docker myös mahdollistaa uusien teknologioiden opettelun helposti, 
              sillä julkisissa hakemistoissa on ladattavissa tuhansia erilaisia tuotekokoonpanoja ja konfiguraatioita sisältäviä kontteja.
              Koska Docker on eriytetty ympäristö paikallisesta koneesta, se mahdollistaa Dockerin toiminnan niin turvallisesti ja tehokkaasti kuin mahdollista.
                </p>
                <br/>
                <br/>
              <p>Docker Compose on työkalu, jonka avulla voidaan luoda ja hallinnoida useasta kontista koostuvia kokonaisuuksia. 
                Docker Composea käytetään komentoriviltä. Palvelut konfiguroidaan YAML-muotoisessa docker-compose.yml tiedostossa, 
                ja koko paketti käynnistetään komennolla <code>docker-compose up</code>. Palvelun sulkeminen puolestaan tapahtuu komennolla <code>docker-compose down</code>. 
                Tämä komento sulkee ja poistaa luodut kontit ja verkon, mutta ei hävitä volumeja. 
                Mikäli myös volumet halutaan poistaa, annetaan komento <code>docker-compose down -v</code>.</p>
              <br/>      
      <h4>Dockerin peruskomponentit</h4>
            <ul>
                <li>Docker Image on yksi tiedosto, joka sisältää sekä itse sovelluksen, että sen tarvitsemat ohjelmistot ja käyttöjärjestelmän. 
                  Image on periaatteessa itsenäinen kokonaisuus, jota voi siirrellä paikasta toiseen. 
                  Windowsissa yksi image voi sisältää käyttöjärjestelmän, sovelluspalvelimen, ASP.NET-komponentit ja varsinaisen sovelluksen ja sen tarvitsemat konfiguraatiot. 
                  Tiedosto sisältää kaiken tarvittavan, mitä tämän esimerkin web-sovelluksen ajaminen vaatii.</li>
                <li>Docker File on konfiguraatiotiedosto, joka kertoo, miten Docker image rakennetaan.</li>
                <li>Registry on Docker-tiedostojen säilytyspaikka. Tällaisia säilytyspaikkoja tai varastoja on sekä julkisia että yksityisiä. 
                  Docker Hub on esimerkki julkisesta varastosta, ja se onkin Dockerin oletusvarasto. Kun käytetään komentoja <code>docker pull</code> tai <code>docker run</code>, 
                  Docker hakee tarvittavat imaget konfiguroimastasi varastosta.</li>
                <li>Docker Container eli Docker-kontti on imagen pohjalta käynnistetty sovellusyksikkö. Yhdestä imagesta voi käynnistää monta rinnakkaista konttia. 
                  Kontille ei aseteta etukäteen tiettyjä resursseja, vaan se pyytää alla olevalta käyttöjärjestelmältä resursseja tarpeen mukaan.</li>
                <li>Docker Engine on ohjelma, joka pyörittää palvelimella ajettavia kontteja. Tätä ohjelmaa hallitaan Docker APIn kautta, jota voi ohjata Windowsissa esim. 
                  PowerShellin kautta. Docker Enginen avulla voi sekä rakentaa kontteja eli pakata sovelluksen tarvitsemia kokonaisuuksia imageksi että ajaa niitä.</li>
                <li>Orchestrator eli automaattinen hallinta on ohjelma, jonka avulla kontteja voidaan hallita silloin, kun tarvitaan useampi palvelin ajamaan kontteja. 
                  Yksi esimerkki tällaisesta on Docker Swarm, joka on Dockerin orkestrointi-ohjelma. 
                  Sen avulla voidaan muodostaa useiden palvelimien klustereita ja jakaa kuormia palvelimien välillä.</li>
            </ul>
            <br/>
            <p>Docker daemon (dockerd) kuuntelee Docker API pyyntöjä ja hallitsee Docker objekteja kuten imageja, kontteja, verkkoja ja volumeja. 
              Daemon voi myös kommunikoida toisten daemonien kanssa hallinnoidakseen Docker palveluja. 
              Docker client on yleisin tapa, miten Dockerin käyttäjät kommunikoivat Dockerin kanssa. 
              <br/>
              <br/>
              Kun käytetään komentoja kuten <code>docker run</code>, client lähettää käskyn Docker daemonille, joka toteuttaa ne. 
              Käsky <code>docker</code> käyttää Docker API:a. Docker client voi kommunikoida useamman kuin yhden daemonin kanssa.
              <br/>
              <br/>
              Docker desktop on helposti asennettava sovellus Mac, Windows tai Linux ympäristöön, 
              joka mahdollistaa konttirakenteisten sovellusten ja mikropalveluiden luomisen ja jakamisen. 
              Docker Desktop sisältää Docker daemonin, Docker clientin, Docker Composen, Docker Content Trustin, Kubernetesin ja Credential Helperin.       
            </p>
            
    </div>
  </div>

    <div class="container">
    <h5>Projekti</h5>
    <p>Projektin aiheena on luoda mikropalvelukäytänteen mukainen ympäristö. 
      Tehtävässä hyödynsimme konttiteknologiaa Dockerin avulla, sekä Docker Composea jonka avulla saimme useamman kontin toimimaan yhdessä. 
      Sisällöksi luomaamme ympäristöön lisäsimme tehtävän dokumentoinnin. 
      Tehtävää tehdessä hyödynsimme GitHubia, jotta saimme ympäristön kaikkien tietokoneille. 
      <br/>
      <br/>
      Mikropalvelumme koostuu näistä konteista:</p> 
      <ul>
        <li>httpd (tämä dokumentaatiosivu)</li>
        <li>traefik (reverse proxy)</li>
        <li>MySQL (tietokanta)</li>
      </ul>
    <h4>Httpd:</h4>
    <p>Yksinkertainen http -kontti, jonka tarkoitus on näyttää sisältö julkisen verkon puolella.</p>
    <br/>
    <h4>MySQL:</h4> 
    <p>Tietokanta, jossa voidaan yleisesti säilyttää erilaista dataa, kuten logitietoa, käyttäjien autorisointi ja autentikointidataa, staattista sekä dynaamista sisältöä.</p>
    <br/>
    <h4>Treafik:</h4>
    <p>Toimii välikätenä verkon ja hostin välillä, joka parantaa palvelun turvallisuutta, kun palvelut eriytetään edusta- ja taustaverkkoon. 
    Näin varmistetaan, että julkiseen verkkoon näkyy vain ne asiat, jota halutaan siellä näkyvän. 
    Sen lisäksi, reverse proxy salaa liikennettä asiakkaan ja palvelimen välillä.  
    Netti sivu toimii osittain edustaverkossa (joka on käyttäjille näkyvissä) ja taustaverkossa (josta sisältö voidaan hakea). 
    Tietokanta toimii vain taustaverkossa ja kommunikoi nettisivun kanssa reverse proxyn kautta. 
    <br/>
    <br/>
    Traefik toimii myös kuorman tasaajana, eli nettisivun liikennettä voidaan jakaa useammalle palvelimelle ruuhkaantumisen välttämiseksi. 
    Tämä nettisivu voidaan skaalata useaan konttiin. Jos liikenne ruuhkautuisi yhdellä palvelimella, voidaan se tarpeen mukaan ohjata saumattomasti toiselle palvelimelle. 
    </p>
    <br/>
    <p>Kaikesta tästä koostuu mikropalvelu: kaikki nämä erilliset palvelut ajetaan yhtenäisesti samasta alustasta. </p>
  </div>
</body>
</html>
